<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:resx="clr-namespace:MobileLanguages;assembly=MobileLanguages"
             x:Class="Mobile.SettingsPage"
             Title="{x:Static resx:Resources.Page_Settings_Title}">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <!-- Language Selection -->
            <Label Text="{x:Static resx:Resources.Settings_Language}"
                   Style="{StaticResource LabelHeader}" />

            <Border Style="{StaticResource Tile}">
                <VerticalStackLayout RadioButtonGroup.GroupName="LocaleGroup"
                                     Spacing="10">
                    <RadioButton Content="Deutsch"
                                 Value="de"
                                 Style="{StaticResource RadioStandard}"
                                 x:Name="RadioDe" />
                    <RadioButton Content="English"
                                 Value="en"
                                 Style="{StaticResource RadioStandard}"
                                 x:Name="RadioEn" />
                </VerticalStackLayout>
            </Border>

            <!-- Reminder Time -->
            <Label Text="{x:Static resx:Resources.Settings_ReminderTime}"
                   Style="{StaticResource LabelHeader}" />

            <Border Style="{StaticResource Tile}">
                <HorizontalStackLayout HorizontalOptions="Center" Spacing="10">
                    <VerticalStackLayout>
                        <Label Text="{x:Static resx:Resources.Time_Hours}"
                               Style="{StaticResource LabelTimeCaption}" />
                        <Picker x:Name="HoursPicker"
                                Style="{StaticResource PickerTime}" />
                    </VerticalStackLayout>

                    <Label Text=":"
                           Style="{StaticResource LabelTimeSeparator}" />

                    <VerticalStackLayout>
                        <Label Text="{x:Static resx:Resources.Time_Minutes}"
                               Style="{StaticResource LabelTimeCaption}" />
                        <Picker x:Name="MinutesPicker"
                                Style="{StaticResource PickerTime}" />
                    </VerticalStackLayout>
                </HorizontalStackLayout>
            </Border>

            <!-- Contacts Section -->
            <Label Text="{x:Static resx:Resources.Settings_Contacts}"
                   Style="{StaticResource LabelHeader}" />

            <Border Style="{StaticResource Tile}">
                <VerticalStackLayout RadioButtonGroup.GroupName="ContactsGroup"
                                     Spacing="10">
                    <Grid ColumnDefinitions="*,Auto">
                        <Label Grid.Column="0"
                               Text="{x:Static resx:Resources.Settings_ContactsRead}"
                               Style="{StaticResource LabelBody}"
                               VerticalOptions="Center" />
                        <RadioButton x:Name="RadioContactsRead"
                                     Grid.Column="1"
                                     Style="{StaticResource RadioStandard}"
                                     CheckedChanged="OnContactsRadioChanged" />
                    </Grid>
                    <Grid ColumnDefinitions="*,Auto">
                        <Label Grid.Column="0"
                               Text="{x:Static resx:Resources.Settings_ContactsReadWrite}"
                               Style="{StaticResource LabelBody}"
                               VerticalOptions="Center" />
                        <RadioButton x:Name="RadioContactsReadWrite"
                                     Grid.Column="1"
                                     Style="{StaticResource RadioStandard}"
                                     CheckedChanged="OnContactsRadioChanged" />
                    </Grid>
                    <Grid ColumnDefinitions="*,Auto">
                        <Label Grid.Column="0"
                               Text="{x:Static resx:Resources.Settings_ContactsBirthdayCalendar}"
                               Style="{StaticResource LabelBody}"
                               VerticalOptions="Center" />
                        <RadioButton x:Name="RadioContactsBirthdayCalendar"
                                     Grid.Column="1"
                                     Style="{StaticResource RadioStandard}"
                                     CheckedChanged="OnContactsRadioChanged" />
                    </Grid>
                    <Grid ColumnDefinitions="*,Auto">
                        <Label Grid.Column="0"
                               Text="{x:Static resx:Resources.Settings_ContactsNone}"
                               Style="{StaticResource LabelBody}"
                               VerticalOptions="Center" />
                        <RadioButton x:Name="RadioContactsNone"
                                     Grid.Column="1"
                                     Style="{StaticResource RadioStandard}"
                                     CheckedChanged="OnContactsRadioChanged" />
                    </Grid>
                </VerticalStackLayout>
            </Border>

            <!-- Calendar Section -->
            <Label Text="{x:Static resx:Resources.Settings_Calendars}"
                   Style="{StaticResource LabelHeader}" />

            <Border Style="{StaticResource Tile}">
                <VerticalStackLayout Spacing="15">
                    <Grid ColumnDefinitions="*,Auto">
                        <Label Grid.Column="0"
                               Text="{x:Static resx:Resources.Settings_WriteCalendarsMultiple}"
                               Style="{StaticResource LabelBody}"
                               VerticalOptions="Center" />
                        <Switch x:Name="WriteCalendarsSwitch"
                                Grid.Column="1"
                                Toggled="OnWriteCalendarsToggled"
                                VerticalOptions="Center" />
                    </Grid>

                    <VerticalStackLayout x:Name="CalendarListContainer"
                                         IsVisible="False"
                                         Spacing="5">
                        <Label Text="{x:Static resx:Resources.Settings_SelectCalendars}"
                               Style="{StaticResource LabelDescription}" />
                        <VerticalStackLayout x:Name="CalendarTogglesContainer"
                                             Spacing="5" />
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Border>

            <!-- Save Button -->
            <Button Text="{x:Static resx:Resources.General_Button_Save}"
                    Style="{StaticResource ButtonPrimary}"
                    Clicked="OnSaveClicked" />

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
