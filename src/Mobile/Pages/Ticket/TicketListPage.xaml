<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:resx="clr-namespace:MobileLanguages;assembly=MobileLanguages"
             xmlns:controls="clr-namespace:Mobile"
             x:Class="Mobile.TicketListPage"
             NavigationPage.HasNavigationBar="False"
             Title="{x:Static resx:Resources.Page_TicketList_Title}">

    <Grid RowDefinitions="Auto,Auto,*">
        <!-- Custom Header with Add Button -->
        <controls:CustomHeader x:Name="TheHeader"
                               Grid.Row="0"
                               Title="{x:Static resx:Resources.Page_TicketList_Title}"
                               ShowMenuButton="False"
                               ShowBackButton="True"
                               ShowAddButton="True"
                               AddClicked="OnAddClicked" />

        <!-- Filter Row -->
        <Grid Grid.Row="1"
              Padding="20,15"
              BackgroundColor="{AppThemeBinding Light={StaticResource BodyBackgroundLight}, Dark={StaticResource BodyBackgroundDark}}">
            <Border Style="{StaticResource TileOuterForPicker}">
                <Border Style="{StaticResource TileInnerForPicker}">
                    <Picker x:Name="FilterPicker"
                            Style="{StaticResource PickerFilter}"
                            SelectedIndexChanged="OnFilterChanged" />
                </Border>
            </Border>
        </Grid>

        <!-- Loading Indicator -->
        <ActivityIndicator x:Name="LoadingIndicator"
                           Grid.Row="2"
                           IsRunning="True"
                           IsVisible="True"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"
                           Color="{StaticResource Primary}" />

        <ScrollView Grid.Row="2" x:Name="ContentScrollView" IsVisible="False">
            <VerticalStackLayout x:Name="EntriesContainer"
                                 Padding="30,10,30,30"
                                 Spacing="15">
                <!-- Dynamically populated -->
            </VerticalStackLayout>
        </ScrollView>
    </Grid>

</ContentPage>
