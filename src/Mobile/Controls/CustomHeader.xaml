<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Mobile.CustomHeader">

    <!-- Header Bar -->
    <Grid BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Gray900}}"
          MinimumHeightRequest="50"
          Padding="5,5"
          ColumnDefinitions="44,*,44">

        <!-- Menu Button (Hamburger) -->
        <Button x:Name="MenuButton"
                Grid.Column="0"
                Text="≡"
                FontSize="28"
                TextColor="{StaticResource White}"
                BackgroundColor="Transparent"
                BorderWidth="0"
                WidthRequest="44"
                Padding="0"
                Clicked="OnMenuClicked" />

        <!-- Back Button -->
        <Button x:Name="BackButton"
                Grid.Column="0"
                Text="◀"
                FontSize="20"
                TextColor="{StaticResource White}"
                BackgroundColor="Transparent"
                BorderWidth="0"
                WidthRequest="44"
                Padding="0"
                IsVisible="False"
                Clicked="OnBackClicked" />

        <!-- Title -->
        <Label x:Name="TitleLabel"
               Grid.Column="1"
               Text=""
               Style="{StaticResource LabelHeaderBar}"
               LineBreakMode="NoWrap"
               MaxLines="1"
               HorizontalOptions="Center"
               VerticalOptions="Center" />

        <!-- Context Menu Button (uses Opacity to reserve space when hidden) -->
        <Button x:Name="ContextMenuButton"
                Grid.Column="2"
                Text="⋮"
                FontSize="24"
                TextColor="{StaticResource White}"
                BackgroundColor="Transparent"
                BorderWidth="0"
                WidthRequest="44"
                Padding="0"
                Opacity="0"
                InputTransparent="True"
                Clicked="OnContextMenuButtonClicked" />

        <!-- Add Button (uses Opacity to reserve space when hidden) -->
        <Button x:Name="AddButton"
                Grid.Column="2"
                Text="+"
                FontSize="28"
                TextColor="{StaticResource White}"
                BackgroundColor="Transparent"
                BorderWidth="0"
                WidthRequest="44"
                Padding="0"
                Opacity="0"
                InputTransparent="True"
                Clicked="OnAddButtonClicked" />
    </Grid>

</ContentView>
