<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:resx="clr-namespace:MobileLanguages;assembly=MobileLanguages"
             x:Class="Mobile.ContextMenu"
             IsVisible="False"
             HorizontalOptions="Fill"
             VerticalOptions="Fill">

    <Grid HorizontalOptions="Fill" VerticalOptions="Fill">
        <!-- Semi-transparent overlay (tap to close) -->
        <BoxView x:Name="Overlay"
                 Color="Black"
                 Opacity="0"
                 ZIndex="1">
            <BoxView.GestureRecognizers>
                <TapGestureRecognizer Tapped="OnOverlayTapped" />
            </BoxView.GestureRecognizers>
        </BoxView>

        <!-- Context Menu Panel - using Frame instead of Border for Android compatibility -->
        <Frame x:Name="ContextMenuPanel"
               BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray900}}"
               BorderColor="Transparent"
               CornerRadius="8"
               Padding="0"
               Margin="0,60,10,0"
               HorizontalOptions="End"
               VerticalOptions="Start"
               ZIndex="2"
               HasShadow="True"
               Scale="0">

            <VerticalStackLayout Spacing="0">
                <!-- Header -->
                <Frame BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Gray800}}"
                       CornerRadius="8"
                       Padding="15,0"
                       HeightRequest="45"
                       HasShadow="False"
                       BorderColor="Transparent">
                    <Label Text="{x:Static resx:Resources.ContextMenu_Title}"
                           Style="{StaticResource LabelHeaderBar}"
                           VerticalOptions="Center" />
                </Frame>

                <!-- Menu Items -->
                <VerticalStackLayout x:Name="MenuItemsContainer"
                                     Padding="8,10"
                                     Spacing="3" />
            </VerticalStackLayout>
        </Frame>
    </Grid>

</ContentView>
